

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Wuhahe">
  <meta name="keywords" content="">
  
    <meta name="description" content="启动MySQL： mysql -u(用户名) -p(明文密码)    （-p后可以不写密码直接回车就可以输入不是明文的密码） 数据库操作： 查看所有数据库 1show databases;  查看当前使用的数据库 1select database();  创建数据库 1create databases 数据库名 charset-utf8;  删除数据库 1drop database 数据库名;">
<meta property="og:type" content="article">
<meta property="og:title" content="MySql笔记">
<meta property="og:url" content="http://hah3.com/2022/03/16/MySql%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Hah3">
<meta property="og:description" content="启动MySQL： mysql -u(用户名) -p(明文密码)    （-p后可以不写密码直接回车就可以输入不是明文的密码） 数据库操作： 查看所有数据库 1show databases;  查看当前使用的数据库 1select database();  创建数据库 1create databases 数据库名 charset-utf8;  删除数据库 1drop database 数据库名;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://hah3.com/img/mysql%E7%AC%94%E8%AE%B0.png">
<meta property="article:published_time" content="2022-03-16T10:16:32.000Z">
<meta property="article:modified_time" content="2022-05-19T11:06:49.709Z">
<meta property="article:author" content="Wuhahe">
<meta property="article:tag" content="mysql">
<meta property="article:tag" content="数据库">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://hah3.com/img/mysql%E7%AC%94%E8%AE%B0.png">
  
  
  <title>MySql笔记 - Hah3</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"hah3.com","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Hah3</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="MySql笔记">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-03-16 18:16" pubdate>
        2022年3月16日 晚上
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      6.5k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      55 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">MySql笔记</h1>
            
            <div class="markdown-body">
              <h4 id="启动MySQL："><a href="#启动MySQL：" class="headerlink" title="启动MySQL："></a>启动MySQL：</h4><p> mysql -u(用户名) -p(明文密码)    （-p后可以不写密码直接回车就可以输入不是明文的密码）</p>
<h2 id="数据库操作："><a href="#数据库操作：" class="headerlink" title="数据库操作："></a>数据库操作：</h2><ul>
<li><p>查看所有数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs mysql">show databases;<br></code></pre></td></tr></table></figure>
</li>
<li><p>查看当前使用的数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select database();<br></code></pre></td></tr></table></figure>
</li>
<li><p>创建数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create databases 数据库名 charset-utf8;<br></code></pre></td></tr></table></figure>
</li>
<li><p>删除数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">drop database 数据库名;<br></code></pre></td></tr></table></figure>
</li>
<li><p>使用数据库</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">use database 数据库名;<br></code></pre></td></tr></table></figure>
</li>
<li><p>查看数据库中所有表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">show tables;<br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h2><ul>
<li><p>查看表结构</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">desc 表名;<br></code></pre></td></tr></table></figure>
</li>
<li><p>创建表结构的语法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table 表名(字段名 数据类型 可选的约束条件);<br>例：<br>create table TableName(id int unsigned auto_increment primary key not null,name varchar(10));<br></code></pre></td></tr></table></figure>

<p>创建了两个列，分别是int类型 id，字符串类型name</p>
<ul>
<li>int类型 id</li>
<li>unsigned 为“无符号”的意思。unsigned即为非负数，用此类型可以增加数据长度。</li>
<li>auto_increment 自增长</li>
<li>primary key 主键</li>
<li>not null 非空</li>
</ul>
</li>
<li><p>修改表–添加字段</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table 表名 add 列名 类型;<br>例：<br>alter table TableName add NowTime datetime;<br></code></pre></td></tr></table></figure>
</li>
<li><p>修改表–修改字段–不重命名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table 表名 modify 列名 类型及约束;<br>例：<br>alter table TableName modify date nout noll;<br></code></pre></td></tr></table></figure>
</li>
<li><p>删除表–删除字段</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table 表名 drop 列名;<br>例：<br>alter table TableName drop NowTime;<br></code></pre></td></tr></table></figure>
</li>
<li><p>删除表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">drop table 表名;<br>例：<br>drop table TableName;<br></code></pre></td></tr></table></figure>
</li>
<li><p>查看表的创建语句–详细过程</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">show create table 表名;<br>例：<br>show create table TableName;<br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="查询基本使用"><a href="#查询基本使用" class="headerlink" title="查询基本使用"></a>查询基本使用</h2><ul>
<li><p>查询所有列</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from 表名;<br>例:<br>select * from TableName;<br></code></pre></td></tr></table></figure>
</li>
<li><p>查询指定列</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select 列1，列2， ...from 表名;<br>例：<br>select id, name from TableName;<br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="列操作"><a href="#列操作" class="headerlink" title="列操作"></a>列操作</h2><p>说明：主键列是自动增长，但是在全列插入时需要占位，通常使用空值(0或者null);字段默认 值default 来占位，插入成功后以实际数据为准  </p>
<ul>
<li><p><strong>全列插入</strong>：值的顺序与表结构字段的顺序完全一一对应，此时字段名列表不用填写</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into 表名 values(...);<br>例：<br>insert into TableName values(0,&#x27;name&#x27;,&#x27;2022-3-16&#x27;);<br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>部分列插入</strong>：值的顺序与给出的列顺序对应，此时需要根据实际的数据的特点填写对应字段列表</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into 表名 (列1, ...) values(值1, ...);<br>例：<br>insert into students(id,name,NowTime )values(1,&#x27;name2&#x27;,&#x27;2022-3-16&#x27;);<br></code></pre></td></tr></table></figure>

<p>上面的语句一次可以向表中插入一行数据，还可以一次性插入多行数据，这样可以减少与数据库的通信。</p>
</li>
<li><p><strong>全列多行插入</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into 表名 values(...),(...)...;<br>例：<br>insert into TableName values(0, &#x27;result1&#x27;),(0, &#x27;result2&#x27;);<br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>部分列多行插入</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into 表名(列1,...) values(值1,...),(值1,...)...;<br>例：<br>insert into TableName(name) values(&#x27;result1&#x27;),(&#x27;result2&#x27;),(&#x27;result3&#x27;);<br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>修改</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">update 表名 set 列1=值1,列2=值2... where 条件;<br>例：<br>update TableName set name=&#x27;new name&#x27;,NowTime=&#x27;2022-3-17&#x27; where id=3;<br></code></pre></td></tr></table></figure>

<p>修改id等于3的name和NowTime值</p>
</li>
<li><p><strong>删除</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">delete from 表名 where 条件;<br>例：<br>delete from TableName where id=5;<br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>as关键字</strong>：</p>
<ul>
<li><p>使用as给字段起别名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select id as 序号,name as 名字, NowTime as 当前时间 from TableName;<br></code></pre></td></tr></table></figure>
</li>
<li><p>可以通过as给表起别名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select t.id,t.name,t.NowTime from TableName as t;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="条件语句查询"><a href="#条件语句查询" class="headerlink" title="条件语句查询"></a>条件语句查询</h2><ul>
<li>where 后面支持多种运算符，进行条件的处理  </li>
<li>比较运算符  </li>
<li>逻辑运算符  </li>
<li>模糊查询  </li>
<li>范围查询  </li>
<li>空判断</li>
</ul>
<h4 id="比较运算符："><a href="#比较运算符：" class="headerlink" title="比较运算符："></a>比较运算符：</h4><ul>
<li><p>等于：&#x3D; </p>
</li>
<li><p>大于：&gt;  </p>
</li>
<li><p>大于等于：&gt;&#x3D;  </p>
</li>
<li><p>小于：&lt;  </p>
</li>
<li><p>小于等于：&lt;  </p>
</li>
<li><p>不等于：!&#x3D;</p>
</li>
<li><p>或&lt;  </p>
</li>
<li><p>例1：查询编号大于3的学生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where id 3;<br></code></pre></td></tr></table></figure>
</li>
<li><p>例2：查询编号不大于4的学生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where id &lt; 4;<br></code></pre></td></tr></table></figure>
</li>
<li><p>例3：查询姓名不是“黄蓉”的学生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where name !=黄蓉&#x27;;<br></code></pre></td></tr></table></figure>
</li>
<li><p>例4：查询没被删除的学生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where is delete=0;<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="逻辑运算符："><a href="#逻辑运算符：" class="headerlink" title="逻辑运算符："></a>逻辑运算符：</h4><ul>
<li><p>and</p>
</li>
<li><p>or</p>
</li>
<li><p>not</p>
</li>
<li><p>例5：查询编号大于3的女同学  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where id 3 and gender=0;<br></code></pre></td></tr></table></figure>
</li>
<li><p>例6：查询编号小于4或没被删除的学生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where id 4 or is delete=0; <br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="模糊查询："><a href="#模糊查询：" class="headerlink" title="模糊查询："></a>模糊查询：</h4><ul>
<li><p>like</p>
</li>
<li><p>%（表示任意多个任意字符）</p>
</li>
<li><p>_（表示一个任意字符）</p>
</li>
<li><p>例7：查询姓黄的学生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where name like &#x27;黄%&#x27;;<br></code></pre></td></tr></table></figure>
</li>
<li><p>例8：查询姓黄并且“名”是一个字的学生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where name like &#x27;黄_&#x27;;<br></code></pre></td></tr></table></figure>
</li>
<li><p>例9：查询姓黄或叫靖的学生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where name like &#x27;黄%&#x27; or name like &#x27;%靖&#x27;;<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="范围查询"><a href="#范围查询" class="headerlink" title="范围查询"></a>范围查询</h4><p>范围查询分为连续范围查询和非连续范围查询 ,in表示在一个非连续的范围内  </p>
<ul>
<li><p>例10：查询编号是1或3或8的学生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where id in(1,3,8);<br></code></pre></td></tr></table></figure>

<p>betweer ..ad.表示在一个连续的范围内  </p>
</li>
<li><p>例11：查询编号为3至8的学生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where id between 3 and 8;<br></code></pre></td></tr></table></figure>
</li>
<li><p>例12：查询编号是3至8的男生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where (id between 3 and 8) and gender=1;<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="空判断"><a href="#空判断" class="headerlink" title="空判断"></a>空判断</h4><p>判断为空</p>
<ul>
<li><p>例13：查询没有填写身高的学生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where height is null;  <br></code></pre></td></tr></table></figure>

<p>注意：1.null与是不同的2.is null   </p>
<p>判非空is not null</p>
</li>
<li><p>例14：查询填写了身高的学生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where height is not null;  <br></code></pre></td></tr></table></figure>
</li>
<li><p>例15：查询填写了身高的男生  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where height is not null and gender=1<br></code></pre></td></tr></table></figure>
</li>
<li><p>优先级：</p>
<p>优先级由高到低的顺序为：小括号，not，比较运算符，逻辑运算符and比or先运算，如果同时出现并希望先运算or，需要结合()使用</p>
</li>
</ul>
<h4 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h4><ul>
<li><p>排序查询语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from 表名 order by 列1 asc|desc [,列2 asc|desc,...];<br></code></pre></td></tr></table></figure>
</li>
<li><p>语法说明：</p>
<p>将行数据按照列1进行排序，如果某些行列1的值相同时，则按照列2排序，以此类推  </p>
<p>asc从小到大排列，即升序  </p>
<p>desc从大到小排序，即降序  </p>
<p>默认按照列值从小到大排列（即asc关键字）</p>
</li>
<li><p>例1：查询未删除男生信息，按学号降序  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where gender= 1 and is delete= 0 order by id desc; <br></code></pre></td></tr></table></figure>
</li>
<li><p>例2：查询未删除学生信息，按名称升序  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where is delete= 0 order by name;<br></code></pre></td></tr></table></figure>
</li>
<li><p>例3：显示所有的学生信息，先按照年龄从大-&gt;小排序，当年龄相同时按照身高从高-&gt;矮排 序  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students order by age desc, height desc;<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from 表名 limit start=0,count;<br></code></pre></td></tr></table></figure>

<p>说明：</p>
<p>从start 开始，获取count 条数据  </p>
<p>start 默认值为0  </p>
<p>也就是当用户需要获取数据的前n条的时候可以直接写上 xxx limit n;</p>
<ul>
<li><p>例：查询前3行男生信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where gender=1 limit 0,3;<br></code></pre></td></tr></table></figure>

<p>已知：每页显示m条数据，当前显示第n页</p>
<p>求总页数：此段逻辑后面会在python项目中实现  </p>
<p>查询总条数p1  </p>
<p>使用p1除以m得到p2  </p>
<p>如果整除则p2为总数页  </p>
<p>如果不整除则p2+1为总页数  </p>
<p>获取第n页的数据的SQL语句求解思路  </p>
<p>第n页前有n-1页  </p>
<p>所在第n页前已经显示的数据的总量是(n-1)*m </p>
<p>*由于数据的下标从0开始所以第n页前所有的网页的下标是 0,1,…,(n-1)*m-1</p>
<p>所以第n页的数据起始下标是(n-1)*m</p>
<p>获取第n页数据的SQL语句</p>
<p>select * from students where is_delete&#x3D;0 limit (n-1)*m,m   </p>
<p>注意：在sql语句中limit 后不可以直接加公式</p>
</li>
</ul>
<h4 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h4><p>总数</p>
<p>count(*)表示计算总行数，括号中写星与列号，结果是相同的</p>
<ul>
<li><p>例1：查询学生总数  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select count(*) from students; <br></code></pre></td></tr></table></figure>

<p>最大值  </p>
<p>max(列)表示求此列的最大值  </p>
</li>
<li><p>例2：查询女生的编号最大值  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select max(id) from students where gender=2;  <br></code></pre></td></tr></table></figure>

<p>最小值  </p>
<p>min(列)表示求此列的最小值  </p>
</li>
<li><p>例3：查询未删除的学生最小编号  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select min( id) from students where is_delete=0;<br></code></pre></td></tr></table></figure>

<p>求和  </p>
<p>sum(列)表示求此列的和</p>
</li>
<li><p>例4：查询男生的总年龄  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select sum(age) from students where gender=1;<br></code></pre></td></tr></table></figure>

<p>平均年龄  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select sum(age)/count(*) from students where gender=1;<br></code></pre></td></tr></table></figure>

<p>平均值  </p>
<p>avg(列)表示求此列的平均值  </p>
</li>
<li><p>例5：查询未删除女生的编号平均值  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select avg(id) from students where is_delete= 0 and gender=2;<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h4><p>group by   </p>
<p>group by + group concat()  </p>
<p>group_concat(字段名)根据分组结果，使用group _concat()来放置每一个分组中某字段的集合  </p>
<p>group by +聚合函数  </p>
<p>通过group_concat 的启发，我们既然可以统计出每个分组的某字段的值的集合，那么我们 也可以通过集合函数来对这个值的集合做一些操作  </p>
<p>group by + having   </p>
<p>having 条件表达式：用来过滤分组结果  </p>
<p>having 作用和lwhere 类似，但having只能用于group by 而where,是用来过滤表数据 </p>
<p>group by + with rollup   </p>
<p>with rollupl 的作用是：在最后新增一行，来记录当前表中该字段对应的操作结果，一般是汇总结果  </p>
<p>连接查询语法</p>
<p>对于外连接outer 关键字可以省略  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from 表1 inner或left或right join 表2 on 表1.列 运算符 表2.列;<br></code></pre></td></tr></table></figure>

<ul>
<li><p>例1：使用内连接查询班级表与学生表  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students inner join classes on students.cls_id = classes.id;<br></code></pre></td></tr></table></figure>
</li>
<li><p>例2：使用左连接查询班级表与学生表  </p>
<p>此处使用了as为表起别名，目的是编写简单  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students as s left join classes as c on s.cls_id = c.id;<br></code></pre></td></tr></table></figure>
</li>
<li><p>例3：使用右连接查询班级表与学生表  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students as s right join classes as c on s.cls_id c.id;<br></code></pre></td></tr></table></figure>
</li>
<li><p>例4：查询学生姓名及班级名称  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select s.name,c.name from students as s inner join classes as c on s.cls_id = c.id<br></code></pre></td></tr></table></figure></li>
</ul>
<p>子查询：</p>
<p>在一个select 语句中，嵌入了另外一个select 语句，那么被嵌入的select语句称之为子查询语句，外部那个select语句则称为主查询  </p>
<p>主查询和子查询的关系  </p>
<p>子查询是嵌入到主查询中  </p>
<p>子查询是辅助主查询的要么充当条件要么充当数据源  </p>
<p>子查询是可以独立存在的语句是一条完整的select 语句  </p>
<p>标量子查询  </p>
<p>查询班级学生平均年龄  </p>
<p>查询大于平均年龄的学生  </p>
<p>查询班级学生的平均身高  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where age &gt; (select avg(age) from students);<br></code></pre></td></tr></table></figure>

<p>列级子查询  </p>
<p>查询还有学生在班的所有班级名字</p>
<p>查询还有学生在班的所有班级名字  </p>
<p>找出学生表中所有的班级id </p>
<p>找出班级表中对应的名字  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select name from classes where id in (select cls_id from students);<br></code></pre></td></tr></table></figure>

<p>行级子查询  </p>
<p>需求：查找班级年龄最大身高最高的学生  </p>
<p>行元素：将多个字段合成一个行元素在行级子查询中会使用到行元素  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from students where (height,age) = (select max(height),max(age) from students);<br></code></pre></td></tr></table></figure>





<h4 id="UNION操作符"><a href="#UNION操作符" class="headerlink" title="UNION操作符"></a>UNION操作符</h4><p><strong>用于合并两个或多个 SELECT 语句的结果集。</strong></p>
<p>UNION 内部的每个 SELECT 语句必须拥有相同数量的列。列也必须拥有相似的数据类型。同时，每个 SELECT 语句中的列的顺序必须相同。</p>
<p>以下为不同的两个表中的country列</p>
<img src="/2022/03/16/MySql%E7%AC%94%E8%AE%B0/image-20220518182203683.png" srcset="/img/loading.gif" lazyload alt="image-20220518182203683" style="zoom:67%;">

<img src="/2022/03/16/MySql%E7%AC%94%E8%AE%B0/image-20220518182226084.png" srcset="/img/loading.gif" lazyload alt="image-20220518182226084" style="zoom:67%;">

<p>执行语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SELECT country FROM Websites<br>UNION<br>SELECT country FROM apps<br>ORDER BY country;<br></code></pre></td></tr></table></figure>

<img src="/2022/03/16/MySql%E7%AC%94%E8%AE%B0/image-20220518182336814.png" srcset="/img/loading.gif" lazyload alt="image-20220518182336814" style="zoom:67%;">

<p>UNION指挥选取把不同的值，若想选取重复的值可使用UNION ALL</p>
<p>执行语句</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SELECT country FROM Websites<br>UNION ALL<br>SELECT country FROM apps<br>ORDER BY country;<br></code></pre></td></tr></table></figure>

<img src="/2022/03/16/MySql%E7%AC%94%E8%AE%B0/image-20220518182531589.png" srcset="/img/loading.gif" lazyload alt="image-20220518182531589" style="zoom:67%;">



<h4 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h4><p>用于限制查询结果返回的数量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from tablename limit i,nl<br></code></pre></td></tr></table></figure>

<ul>
<li>i：查询结果的索引值，即从0开始查找</li>
<li>n：查询结果返回的数量</li>
</ul>
<h4 id="information-schema-schemata"><a href="#information-schema-schemata" class="headerlink" title="information_schema.schemata"></a>information_schema.schemata</h4><p>获取所有数据库信息</p>
<img src="/2022/03/16/MySql%E7%AC%94%E8%AE%B0/image-20220519172542302.png" srcset="/img/loading.gif" lazyload alt="image-20220519172542302" style="zoom:67%;">



<h4 id="group-concat"><a href="#group-concat" class="headerlink" title="group_concat()"></a>group_concat()</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select group_concat(column) from tablename;<br></code></pre></td></tr></table></figure>

<p>将相同字段在同一行显示</p>
<img src="/2022/03/16/MySql%E7%AC%94%E8%AE%B0/image-20220519173003658.png" srcset="/img/loading.gif" lazyload alt="image-20220519173003658" style="zoom:67%;">



<h4 id="select-查询某数据库表名"><a href="#select-查询某数据库表名" class="headerlink" title="select 查询某数据库表名"></a>select 查询某数据库表名</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select table_name from information_schema.tables where table_schema=&#x27;test&#x27;;<br></code></pre></td></tr></table></figure>

<p>以上查询返回<strong>test数据库</strong>中的所有表</p>
<h4 id="select-查询表中的字段名"><a href="#select-查询表中的字段名" class="headerlink" title="select 查询表中的字段名"></a>select 查询表中的字段名</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select column_name from information_schema.columns where table_name=&#x27;test&#x27;;<br></code></pre></td></tr></table></figure>

<p>以上返回<strong>test表</strong>中的所有字段名</p>
<h4 id="不使用use进入数据库，获取该数据库数据"><a href="#不使用use进入数据库，获取该数据库数据" class="headerlink" title="不使用use进入数据库，获取该数据库数据"></a>不使用use进入数据库，获取该数据库数据</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from database.table;<br></code></pre></td></tr></table></figure>

<p>database.table：数据库名.表名</p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h2><ul>
<li><p>有时候添加数据会显示语法错误，可能是因为添加的数据与其语法重名，例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table gotodata add repeat varchar(100);		//显示语法错误，因为repeat与语法重名<br>alter table gotodata add `repeat` varchar(100);		//正确输入，使用反引号<br></code></pre></td></tr></table></figure></li>
</ul>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/MySQL/">MySQL</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/mysql/">mysql</a>
                    
                      <a class="hover-with-bg" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/03/27/%E5%90%8E%E7%AB%AF%E7%AC%94%E8%AE%B0/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">后端笔记</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/03/03/%E5%88%A9%E7%94%A8hexo-Github%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/">
                        <span class="hidden-mobile">利用hexo+Github搭建博客</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>















<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
